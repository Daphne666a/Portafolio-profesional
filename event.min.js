document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById("contactForm");if(!form){console.error("Formulario no encontrado");return}form.addEventListener("submit",async function(e){e.preventDefault();const data={nombre:e.target.nombre.value,email:e.target.email.value,mensaje:e.target.mensaje.value};try{const url=window.location.hostname==="localhost"?"http://localhost:3000/api/contact":"/api/contact";const response=await fetch(url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});const result=await response.json();if(result.success){alert("Mensaje enviado ✨");e.target.reset()}else{alert("Error al enviar: "+(result.error||"Desconocido"))}}catch(error){console.error("Error:",error);alert("Error de conexión con el servidor")}})});
