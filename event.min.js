document.addEventListener("DOMContentLoaded",function(){var form=document.getElementById("contactForm");if(!form){console.error("Formulario no encontrado");return}console.log("Formulario encontrado, agregando listener");form.addEventListener("submit",function(e){console.log("Submit event fired");e.preventDefault();e.stopPropagation();var formData={nombre:e.target.nombre.value,email:e.target.email.value,mensaje:e.target.mensaje.value};console.log("Datos:",formData);var apiUrl=window.location.hostname==="localhost"?"http://localhost:3000/api/contact":"/api/contact";console.log("Enviando a:",apiUrl);fetch(apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData)}).then(function(response){console.log("Response status:",response.status);return response.json()}).then(function(data){console.log("Response data:",data);if(data.success){alert("Mensaje enviado correctamente");form.reset()}else{alert("Error al enviar: "+(data.error||"Desconocido"))}}).catch(function(error){console.error("Error completo:",error);alert("Error de conexion: "+error.message)});return false},false)});
